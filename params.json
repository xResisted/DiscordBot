{
  "name": "Discordbot",
  "tagline": "A Java Discord bot using Discord4J",
  "body": "# DiscordBot\r\n\r\nA Java bot for [Discord](https://discordapp.com/) using the [Discord4J interface](https://github.com/austinv11/Discord4J/).  \r\nIt uses mysql to store data, a create script can be found in the sql folder  \r\nTo get music from youtube it makes use of [youtube-dl](https://github.com/rg3/youtube-dl) and [avconv](https://libav.org/avconv.html)  \r\nIf you'd like to run your own version of this project check the [installation part](#run-the-bot-yourself)\r\n\r\nYou can play/test it on discord \r\n[![Discord](https://discordapp.com/api/guilds/225168913808228352/widget.png)](https://discord.gg/eaywDDt)\r\n## What can it do?\r\n\r\n\r\n* Respond to commands\r\n* Add custom commands\r\n* play/download music\r\n* [customizable globally](#global-configuration) and [per guild](#per-guild-configuration)\r\n* play games against other users\r\n* subscription system\r\n* various optional modules\r\n* auto self updates\r\n* [auto ranking system](#ranking-system)\r\n\r\n### Commands\r\n\r\nCommands are prefixed with a \"%\" by default, this can be configured.\r\nFor a list of commands in discord the **help** command can be used.\r\nFor more information about a command use **help \\<commandname\\>**\r\n\r\nCurrent list of all available commands. See below for a more detailed list\r\n\r\nCommands | | | | |\r\n--- | --- | ---| ---| ---\r\n[8ball](#8ball) | [avatar](#avatar) | [blackjack](#blackjack) | [catfact](#catfact) | [changename](#changename)\r\n[command](#command) | [config](#config) | [current](#current) | [exit](#exit) | [game](#game)\r\n[help](#help) | [importmusic](#importmusic) | [info](#info) | [invite](#invite) | [join](#join)\r\n[joke](#joke) | [leave](#leave) | [mcstatus](#mcstatus) | [play](#play) | [playlist](#playlist)\r\n[pm](#pm) | [poec](#poec) | [poeitem](#poeitem) | [poelab](#poelab) | [poll](#poll)\r\n[purge](#purge) | [reboot](#reboot) | [reddit](#reddit) | [reload](#reload) | [report](#report)\r\n[role](#role) | [roll](#roll) | [rotate](#rotate) | [say](#say) | [skip](#skip)\r\n[slot](#slot) | [stop](#stop) | [subscribe](#subscribe) | [system](#system) | [tag](#tag)\r\n[template](#template) | [user](#user) | [version](#version) | [volume](#volume) | \r\n\r\n## Games\r\n\r\nGames can be accessed though the **!game** command\r\n\r\nA list of games:\r\n\r\nKey | Name | Players |\r\n--- | --- | --- |\r\ncf | Connect Four | 2\r\ngos | Game of sticks | 2\r\ntic | Tic tac toe | 2\r\n\r\n\r\n## Global configuration\r\n\r\nThe global configuration is stored in the application.cfg file, which is generated the first time you run the application\r\n\r\nThe following settings can be set globally:\r\n\r\nSetting name | default | description\r\n---|---|---\r\nBOT_ENABLED | false | Enables the bot<br/> This must be set to true in order to run the bot\r\nBOT_AUTO_UPDATE | false | Enable automatic updates. <br/>For this to work you'll have to launch the bot though my other project<br/>https://github.com/MaikWezinkhof/ConfigurationBuilder\r\nBOT_NAME | \"KaraokeMachine\" | the default name of the bot,\r\nBOT_CHANNEL_ID | \"225170823898464256\" | Discord channel is of the bot's own channel\r\nBOT_TOKEN | \"mybottokenhere\" | token used to login to discord\r\nBOT_CHATTING_ENABLED | true | Enable cleverbot\r\nBOT_COMMAND_PREFIX | \"%\" |  prefix for all commands %help etc. This can be overriden per guild\r\nBOT_COMMAND_LOGGING | true | save the usage of commands\r\nBOT_COMMAND_SHOW_UNKNOWN | false | Reply to non existing commands? <br/> eg. hey that command doesn't exist\r\nMUSIC_DOWNLOAD_SOUNDCLOUD_EXE | \"H:/\" | location of the soundcloud jar\r\nMUSIC_DOWNLOAD_SOUNDCLOUD_API_TOKEN | \"some-token\" | token used to connect to soundcloud\r\nYOUTUBEDL_EXE | \"H:/youtube-dl.exe\" | location of youtubedl.exe\r\nYOUTUBEDL_BIN | \"H:/music/bin/\" | folder with the binary files required for ffmpeg\r\nMUSIC_DIRECTORY | \"H:/music/\" | directory where all the music is stored\r\nDB_HOST | \"localhost\" | mysql hostname\r\nDB_USER | \"root\" | mysql user\r\nDB_PASS | \"\" | mysql password\r\nDB_NAME | \"discord\" | mysql database name\r\nMODULE_ECONOMY_ENABLED | true | enable economy globally\r\nMODULE_POE_ENABLED | true | enable poe globally\r\nMODULE_HEARTHSTONE_ENABLED | true | enable hearthstone globally\r\nMODULE_MUSIC_ENABLED | true | enable music globally\r\nECONOMY_CURRENCY_NAME | \"\" | name of the currency\r\nECONOMY_CURRENCY_ICON | \"\" | emoticon of the currency\r\nTRELLO_ACTIVE | false | Use trello integration\r\nTRELLO_API_KEY | \"api-key-here\" | Use trello integration\r\nTRELLO_BOARD_ID | \"1234\" | trello board id\r\nTRELLO_LIST_BUGS | \"1234\" | trello list id \r\nTRELLO_LIST_IN_PROGRESS | \"1234\" |  trello list id for in progress items\r\nTRELLO_LIST_PLANNED | \"1234\" | trello list id for planned items\r\nTRELLO_TOKEN | \"token-here\" | the trello token\r\n\r\n\r\n## Per guild configuration\r\n\r\nThe per-guild configuration can be accessed though the **!config** command, to use it you must be the server owner, or have the discord-administrator permission\r\n \r\nThe following settings can be changed per guild:\r\n\r\nKey | Default | Description |\r\n--- | --- | ---|\r\nbot_channel | Music | Channel where the bots default output goes to\r\nbot_listen | all | What channels to listen to? (all;mine)<br/>all -> responds to all channels<br/>mine -> only responds to messages in configured channel\r\nchat_bot_enabled | false | Chat with people\r\ncleanup_messages | no | Delete messages after a while? (yes;no;nonstandard)<br/>yes -> Always delete messages<br/>no -> Never delete messages<br/>nonstandard -> delete messages outside of bot's default channel\r\ncommand_prefix | $ | Prefix for commands (between 1 and 3 characters)\r\nhelp_in_pm | false | show help in a private message?<br/>true  -> send a message to the user requesting help<br/>false -> output help to the channel where requested\r\nmodule_games | true | Let people play games against each other\r\nmusic_show_listeners | true | Show who's listening in the *current* commandtrue  -> List all the people who are currently listening to music<br/>false -> Don't show listeners\r\npm_user_events | false | Send a private message to owner when something happens to a user?<br/>true  -> sends a private message to guild-owner<br/>false -> does absolutely nothing\r\nshow_unknown_commands | false | Show message on nonexistent commands<br/>true -> returns a help message<br/>false -> stays silent\r\nuse_economy | false | Use the economy feature?<br/>false -> nope!<br/>true -> yep!\r\nuser_time_ranks | false | This setting will require me to have the manage role permission!<br/>Users are given a role based on their time spend in the discord server<br/>If you'd like to use the time based ranks, be sure to check out the other settings first!<br/>Setting:  Use time based ranks?<br/>true  -> yes<br/>false -> no\r\nuser_time_ranks_notify | no | Send a notification whenever a user goes up a rank?<br/>no      -> Don't notify anyone, stay silent!<br/>private -> send a private message to the user who ranked up<br/>public  -> announce it in a channel<br/>both    -> perform both private and public actions \r\nuser_time_ranks_prefix | [rank] | The prefix of the role name for the time based role ranking<br/>Using this prefix to manage roles so make sure its somewhat unique! Or you'll have to cleanup yourself :)<br/>If you'd like to use the time based ranks make sure to set this first!<br/><br/>The prefix can be between 3 and 8 in length\r\nwelcome_new_users | false | Show a welcome message to new users?<br/>true  -> shows a welcome message to new users<br/>false -> stays silent\r\n\r\n\r\n\r\n## Ranking system\r\nThe auto ranking system is based on the join date of the user. After a set amount of time the user will be promoted to the next rank.\r\nThe ranks will be created/maintained by the bot.\r\n\r\nThe following settings will affect the ranking system\r\n[user_time_ranks](#per-guild-configuration)\r\n[user_time_ranks_prefix](#per-guild-configuration)\r\n\r\n*note: In order for this to work the bot needs the manage roles permission on discord.*\r\n\r\nThe rankings go according to the table below:\r\n\r\nName | Time spend |\r\n--- | --- | \r\nSpectator | 0 seconds \r\nOutsider | about an hour \r\nLurker | 3 hours \r\nProspect | 23 hours \r\nFriendly | 2 days \r\nRegular | 6 days \r\nHonored | 13 days \r\nVeteran | 29 days \r\nRevered | 59 days \r\nHerald | 89 days \r\nExalted | 179 days \r\n\r\n\r\n## Run the bot yourself\r\n\r\nBefore we get started I want to note that the development happens mainly on a windows machine, so there might be some unforeseen errors on other operating systems.  \r\nIf you do encounter errors, please let me know so I can fix them.  \r\n\r\nRight, so lets get started. Before starting make sure you at least have the following installed:\r\n\r\n* java 8\r\n* git\r\n* maven\r\n* mysql\r\n\r\nDatabase:  \r\nexecute the sql queries in the /sql/create.sql file\r\n\r\nclone the project with git  \r\n`git clone https://github.com/MaikWezinkhof/DiscordBot /path/to/project`  \r\nGo to the root of the project and install the dependencies using maven  \r\n`mvn install`  \r\nNow build the project using maven  \r\n`mvn clean process-resources compile assembly:single`  \r\nIn the target map there should be a file called Discordbot-VERSION_full.jar (where version is the latest version number)  \r\nMove this file over to a location wherever you want to start the bot from.  \r\n\r\nYou can launch the bot with the following command:\r\n`java -jar <jarfilename>`  \r\n\r\nThe first time It will generate an application.cfg file and exit.  \r\nYou'll have to edit the config file and add in your token, database configuration, etc.  \r\n\r\n\r\n\r\n\r\n\r\n## Warning\r\n\r\nThis project is still in an early stage. Some things might not work or get changed drastically.\r\n\r\n## Usage\r\n\r\nOn the first run it will generate a config file and stop running. You'll need to at least set the token and the property **bot_enabled** to true\r\n\r\n## Command details\r\n\r\n### 8ball\r\n\r\nSee what the magic 8ball has to say\r\n\r\nUsable in public and private channels\r\n### avatar\r\n\r\nChanges my avatar\r\n\r\nUsable in public and private channels\r\n### blackjack\r\n\r\nplay a game of blackjack!\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nblackjack        //check status\r\nblackjack hit    //hits\r\nblackjack stand  //stands\r\n```\r\n### catfact\r\n\r\nCat facts!\r\n\r\nUsable in public and private channels\r\n### changename\r\n\r\nChanges my name\r\n\r\nUsable in public and private channels\r\n### command\r\n\r\nAdd and remove custom commands\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\ncommand add <command> <action>  //adds a command\r\ncommand delete <command>        //deletes a command\r\ncommand list                    //shows a list of existing custom commands\r\n```\r\n### config\r\n\r\nGets/sets the configuration of the bot\r\n\r\nAliases: setting\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nconfig                    //overview\r\nconfig <property>         //check details of property\r\nconfig <property> <value> //sets property\r\n```\r\n### current\r\n\r\nretrieves information about the song currently playing\r\n\r\nAliases: playing, np, nowplaying\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\ncurrent               //info about the currently playing song\r\ncurrent title <title> //sets title of current song\r\ncurrent ban           //bans the current track from being randomly played\r\ncurrent artist        //sets the artist of current song\r\ncurrent correct       //accept the systems suggestion of title/artist\r\ncurrent reversed      //accept the systems suggestion in reverse [title=artist,artist=title]\r\n```\r\n### exit\r\n\r\ncompletely shuts the bot down\r\n\r\nAliases: brexit\r\nUsable in public and private channels\r\n### game\r\n\r\nplay games against eachother!\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\ngame list                 //to see a list games\r\ngame <@user> <gamecode>   //play a game against @user\r\n```\r\n### help\r\n\r\nAn attempt to help out\r\n\r\nAliases: ?, halp, helpme\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nhelp            //index of all commands\r\nhelp <command>  //usage for that command\r\n```\r\n### importmusic\r\n\r\nSpecial command for special use case. Imports music files from a directory. Only imports files with a valid id3v[1-2] tag\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nimportmusic <path/to/music>  //imports a folder\r\n```\r\n### info\r\n\r\nShows some general information about me and my future plans.\r\n\r\nAliases: about\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\ninfo          //general info\r\ninfo planned  //see whats planned in the near future\r\ninfo bugs     //known bugs\r\ninfo progress //see whats currently being worked on\r\n```\r\n### invite\r\n\r\nProvides an invite link to add the bot to your server.\r\n\r\nAliases: inv\r\nUsable in public and private channels\r\n### join\r\n\r\njoins a voicechannel\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\njoin                //attempts to join you\r\njoin <channelname>  //attempts to join channelname\r\n```\r\n### joke\r\n\r\nAn attempt to be funny\r\n\r\nUsable in public and private channels\r\n### leave\r\n\r\nLeaves the voicechannel\r\n\r\nUsable in public ~~and private~~ channels\r\n### mcstatus\r\n\r\nShows some information about the server\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nmcstatus <serverip>\r\nmcstatus <serverip> <serverport> \r\n```\r\n### play\r\n\r\nPlays a song from youtube\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nplay <youtubelink>       //download and plays song\r\nplay <soundcloudlink>    //download and plays song\r\nplay <youtubevideocode>  //download and plays song\r\nplay <part of title>     //shows search results\r\nplay <resultnumber>      //add result # to the queue\r\n```\r\n### playlist\r\n\r\ninformation about the playlist/history\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nplaylist          //playlist queue\r\nplaylist clear    //playlist queue\r\nplaylist history  //list of recently played songs\r\n```\r\n### pm\r\n\r\nSend a message to user\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\npm <@user> <message..>\r\n```\r\n### poec\r\n\r\nReturns a list of currency on your account\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\npoec                   //returns list of currency for default league\r\npoec token <token>     //sets the session token\r\npoec league <league>   //currency for league\r\n```\r\n### poeitem\r\n\r\nAnalyzes an item from path of exile.\r\n\r\nUsable in public and private channels\r\n### poelab\r\n\r\nAttempts to find a description from reddit for the Labyrinth instance.\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\npoelab              //lists for all difficulties\r\npoelab <difficulty> //only for that difficulty\r\n```\r\n### poll\r\n\r\nStrawpoll: propose a question and choices for the chat to vote on\r\n\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\npoll          //status of active poll \r\npoll create <question> ;<duration in minutes>;<option1>;<option2>;<etc.> \r\n              //creates a poll for the duration\r\npoll 1-9      //vote on the options\r\n```\r\n### purge\r\n\r\npurges messages\r\n\r\nAliases: clear, delete\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\npurge       //deletes non-pinned messages\r\npurge @user //deletes messages from user\r\npurge nova  //deletes my messages :(\r\n```\r\n### reboot\r\n\r\nrestarts the bot\r\n\r\nAliases: restart\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nreboot         //reboots the system\r\nreboot update  //reboots the system and updates\r\n```\r\n### reddit\r\n\r\nPosts something from reddit\r\n\r\nAliases: r\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nr <subreddit>\r\n```\r\n### reload\r\n\r\nreloads the configuration\r\n\r\nUsable in public and private channels\r\n### report\r\n\r\nReport bugs/abuse/incidents\r\n\r\nUsable in ~~public and~~ private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nreport <subject> | <message..>\r\n```\r\n### role\r\n\r\nManagement of roles\r\n\r\nAliases: roles\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nrole                             //lists roles\r\nrole list                        //lists roles\r\nrole cleanup                     //cleans up the roles from the time-based rankings\r\nrole setup                       //creates the roles for the time-based rankings\r\nrole bind BOT_ROLE <discordrole> //binds a discordrole to a botrole\r\nrole add @user <role>            //adds role to user\r\nrole remove @user <role>         //remove role from user\r\n```\r\n### roll\r\n\r\nif you ever need a random number\r\n\r\nAliases: dice, rng\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nroll   //random number 1-6\r\nroll <max>   //random number 1-<max>\r\nroll <min> <max>   //random number <min>-<max>\r\n```\r\n### rotate\r\n\r\nRotate text!\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nrotate <text..> \r\n```\r\n### say\r\n\r\nrepeats you\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nsay <anything>\r\n```\r\n### skip\r\n\r\nskip current track\r\n\r\nAliases: next\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nskip      //skips current track\r\nskip perm //skips permanently; never hear this song again\r\n```\r\n### slot\r\n\r\nFeeling lucky? try the slotmachine! You might just win a hand full of air!\r\n\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nslot      //displays info and payout table\r\nslot play //plays the game\r\n```\r\n### stop\r\n\r\nstops playing music\r\n\r\nUsable in public ~~and private~~ channels\r\n### subscribe\r\n\r\nsubscribe the channel to certain events\r\n\r\nAliases: sub\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nsubscribe                //check what subscriptions are active\r\nsubscribe <name>         //subscribe to subject\r\nsubscribe stop <name>    //stop subscription to subject\r\nsubscribe info <name>    //information about subject\r\nsubscribe list           //See what subscription options there are\r\n```\r\n### system\r\n\r\nShows memory usage\r\n\r\nAliases: sysinfo, sys\r\nUsable in public and private channels\r\n### tag\r\n\r\nTags!\r\n\r\nAliases: t\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\ntag                  //list of tags\r\ntag <name>           //shows the tag\r\ntag mine             //shows your tags\r\ntag list             //shows all tags \r\ntag delete <name>    //deletes tag\r\ntag <name> <content> //creates the tag\r\n```\r\n### template\r\n\r\nadds/removes templates\r\n\r\nAliases: tpl\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\ntemplate list                        //lists all keyphrases\r\ntemplate list <keyphrase> <page>     //lists all options for keyphrase\r\ntemplate remove <keyphrase> <index>  //removes selected template for keyphrase\r\ntemplate add <keyphrase> <text...>   //adds a template for keyphrase\r\ntemplate toggledebug                 //shows keyphrases instead of text\r\n```\r\n### user\r\n\r\nShows information about the user\r\n\r\nAliases: whois\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nuser         //info about you\r\nuser @user   //info about @user\r\n```\r\n### version\r\n\r\nShows what versions I'm using\r\n\r\nAliases: v\r\nUsable in public and private channels\r\n\r\n#### Usage\r\n\r\n```php\r\nversion  //version usage\r\n```\r\n### volume\r\n\r\ngets and sets the volume of the music\r\n\r\nAliases: vol\r\nUsable in public ~~and private~~ channels\r\n\r\n#### Usage\r\n\r\n```php\r\nvolume              //shows current volume\r\nvolume <1 to 100>   //sets volume\r\n```\r\n",
  "note": "Don't delete this file! It's used internally to help with page regeneration."
}
